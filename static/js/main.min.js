/**
 * Copyright (c) edisonlee55
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
let hasExtension=(a,b)=>{var c=document.getElementById(a).files[0].name;return new RegExp("("+b.join("|").replace(/\./g,"\\.")+")$","i").test(c)};document.getElementById("generate").addEventListener("click",()=>{let a=document.getElementById("input").files[0];if(!a)return void Swal.fire({icon:"error",title:"Please select the ASS file to be converted"});if(!hasExtension("input",[".ass"]))return void Swal.fire({icon:"error",title:"Please select the file with ASS format"});let b=new FormData;b.append("file",a),fetch("/upload",{method:"POST",body:b}).then(a=>{if(a.ok)return a.blob();throw new Error(a.statusText)}).then(b=>{let c=document.getElementById("input").files[0].name.split(".");c.pop();let d=c.join(".")+".ytt",e=URL.createObjectURL(b),f=document.createElement("a");f.href=e,f.download=d,f.click()}).catch(a=>{Swal.fire({icon:"error",title:"Something went wrong",html:"Please try again.<br><br>The file you uploaded might be corrupted or not yet supported by YTSubConverter.",footer:`${a}`})})});
